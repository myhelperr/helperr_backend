{"version":3,"file":"server.js","sources":["server.ts"],"sourceRoot":"/","sourcesContent":["import { createServer, Server as HttpServer } from 'http';\r\nimport app from './app';\r\nimport { disconnectDatabase } from './configs/prisma';\r\n\r\nimport { PORT } from './configs/envConfig';\r\nimport { globalLog } from './configs/loggerConfig';\r\n\r\nconst DEFAULT_PORT = Number(PORT);\r\n\r\nconst httpServer: HttpServer = createServer(app);\r\n\r\nhttpServer.listen(DEFAULT_PORT, () => {\r\n  globalLog.info(`Server listening on 'http://localhost:${DEFAULT_PORT}'`);\r\n});\r\n\r\n// Graceful shutdown handlers\r\nprocess.on('SIGTERM', async () => {\r\n  globalLog.info('SIGTERM received, shutting down gracefully...');\r\n  await disconnectDatabase();\r\n  httpServer.close(() => {\r\n    globalLog.info('Server closed');\r\n    process.exit(0);\r\n  });\r\n});\r\n\r\nprocess.on('SIGINT', async () => {\r\n  globalLog.info('SIGINT received, shutting down gracefully...');\r\n  await disconnectDatabase();\r\n  httpServer.close(() => {\r\n    globalLog.info('Server closed');\r\n    process.exit(0);\r\n  });\r\n});\r\n"],"names":[],"mappings":";;;;;;;AAAA,+BAA0D;AAC1D,gDAAwB;AACxB,6CAAsD;AAEtD,mDAA2C;AAC3C,yDAAmD;AAEnD,MAAM,YAAY,GAAG,MAAM,CAAC,gBAAI,CAAC,CAAC;AAElC,MAAM,UAAU,GAAe,IAAA,mBAAY,EAAC,aAAG,CAAC,CAAC;AAEjD,UAAU,CAAC,MAAM,CAAC,YAAY,EAAE,GAAG,EAAE;IACnC,wBAAS,CAAC,IAAI,CAAC,yCAAyC,YAAY,GAAG,CAAC,CAAC;AAC3E,CAAC,CAAC,CAAC;AAGH,OAAO,CAAC,EAAE,CAAC,SAAS,EAAE,KAAK,IAAI,EAAE;IAC/B,wBAAS,CAAC,IAAI,CAAC,+CAA+C,CAAC,CAAC;IAChE,MAAM,IAAA,2BAAkB,GAAE,CAAC;IAC3B,UAAU,CAAC,KAAK,CAAC,GAAG,EAAE;QACpB,wBAAS,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QAChC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC;AAEH,OAAO,CAAC,EAAE,CAAC,QAAQ,EAAE,KAAK,IAAI,EAAE;IAC9B,wBAAS,CAAC,IAAI,CAAC,8CAA8C,CAAC,CAAC;IAC/D,MAAM,IAAA,2BAAkB,GAAE,CAAC;IAC3B,UAAU,CAAC,KAAK,CAAC,GAAG,EAAE;QACpB,wBAAS,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QAChC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","debug_id":"25dfc3ad-85eb-54c7-936d-103b6f2fc439"}